<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>

    <script>
        /*
         Ex 1
creare una funzione compareMap che accetta in ingresso due mappe.
La funzione restituisce true SE le due mappe sono mappe, 
SE hanno lo stesso numero di elementi e per le stesse chiavi, gli stessi valori. 
Testare il funzionamento di compareMap passando due mappe diverse nella prima chiamata, 
e due mappe uguali nella seconda chiamata
-----------------------------------------------------------
        */

        //algoritmo
        //creo le mappe che mi servono
        //creo una funzione che prende due mappe, subito faccio dei controlli per soddisfare le condizioni iniziali
        //creare una seconda funzione che confronta le key e i value una mappa con quella di ingresso
        

        const mappa1 = new Map ();
        const mappa2 = new Map ([
            ['nome', 'giovanni'],
            ['eta', 10],
            ['hobbies', 'coding']
        ])

        const mappa3 = new Map ()

        mappa1.set ('nome', 'giovanni')
        mappa1.set ('eta', 10)
        mappa1.set ('hobbies', 'coding')

        mappa3.set ('scuola', 'penna')
        mappa3.set ('fabbrica', 'martello')

        console.log(mappa1);
        console.log(mappa2);
        console.log(mappa3);

        function compareMappe(map1, map2) {
            console.log(map1);
            console.log(map2);
            let test = 'ok'

            if (map1 instanceof Map == false || map2 instanceof Map == false ) {return 'non sono entrambe mappe'};
            if (map1.size != map2.size) {return 'le mappe non hanno la stessa size'}
            
            
            function verificaKeysValue(v,k) {
                if (!map2.has(k)) {test = 'no-key'}
                else {if (map2.get(k) != v) {test = 'no-value'}}
                return     
            }
            map1.forEach (verificaKeysValue)

            let result = 'il risultato del test e il seguente: ' + test

            return result
        }

        let provo = 2

        let res = compareMappe (mappa1, mappa2);
        console.log(res);
        





        
    </script>

    <p>
        <!--  // Ex 1
    // creare una funzione compareMap che accetta in ingresso due mappe.
    // La funzione restituisce true SE le due mappe sono mappe, SE hanno lo stesso numero di elementi e per le stesse chiavi, gli stessi valori. 
    // Testare il funzionamento di compareMap passando due mappe diverse nella prima chiamata, e due mappe uguali nella seconda chiamata
    // -----------------------------------------------------------
    //fatto da giada
{
    function compareMap(map1,map2){
        let test='ok'

        if(map1 instanceof Map && map2 instanceof Map){
            if (map1.size == map2.size){
                // console.log(map1.forEach(compareKeyValue));

                function compareKeyValue(v,k){
                    if(!map2.has(k)){
                        test='noKey'
                        return
                    }else if(map2.has(k) && map2.get(k) != v){
                        test='noVal'
                        return
                    }
                }   
                map1.forEach(compareKeyValue)

                if(test=='ok'){
                    return true
                }else if (test=='noKey'){
                    return 'le mappe non hanno le stesse chiavi'
                }else if (test=='noVal'){
                    return 'le mappe non hanno gli stessi valori per le stesse chiavi'
                }
            }else{
                return 'le mappe non hanno lo stesso numero di elementi';
            }
        }else{
            return 'i dati non sono entrambi mappe';
        }  
    }
    
    let map1=new Map([['Luigi','Verdi'],['Mario','Rossi'],['Ciccio','Pasticcio']])
    let map2=new Map([['Luigi','Verdi'],['Mario','Rossi'],['Ciccio','Pasticcio']])
    let map3=new Map([['Luigi','Verdi'],['Mario','Rossi']])
    let map4=new Map([['Luigi','Verdi'],['Mario','Rossi'],['Pietro','Pasticcio']])
    let map5=new Map([['Luigi','Verdi'],['Mario','Rossi'],['Ciccio','Pistacchio']])
    console.log(compareMap(map1,map5))
}
 -->
    </p>
</body>
</html>